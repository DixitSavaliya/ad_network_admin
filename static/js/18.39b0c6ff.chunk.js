(this.webpackJsonpad_network=this.webpackJsonpad_network||[]).push([[18],{502:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a={baseApiUrl:"https://192.241.153.53:3005/"}},504:function(e,t,r){"use strict";var a,n=r(505),s=r.n(n),o=r(502),l=0;s.a.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("ad_network_auth"));return e.headers.Authorization="Barier "+(t?t.access_token:""),e.headers["content-md5"]=t?t.secret_key:"",e.data&&e.url!=o.a.baseApiUrl+"User/getAuthTokens"&&(e.data.end_user_key=t?t.secret_key:""),e.url!=o.a.baseApiUrl+"User/getAccessTokenByRefreshToken"?((a={}).url=e.url,a.body=e.data,a.method=e.method,a.headers=e.headers):console.log("config",e),e}),(function(e){console.log("error: ",e)})),s.a.interceptors.response.use((function(e){var t=JSON.parse(localStorage.getItem("ad_network_auth")),r=0;if(void 0==e.data.token)return e;0==l&&(l=1,s.a.post(o.a.baseApiUrl+"User/getAccessTokenByRefreshToken",{refresh_token:t.refresh_token,username:t.username?t.username:t.email_id}).then((function(t){localStorage.setItem("ad_network_auth",JSON.stringify(t.data.data)),0==r&&(r=1,a.headers.Authorization="Barier "+(t.data.data?t.data.data.access_token:""),s.a[a.method](a.url,a.body,{headers:a.headers}).then((function(t){return e=t})).catch((function(e){return e})))})).catch((function(e){console.log("intercepting error of refresh token",e)})))}),(function(e){var t=e.config,r=JSON.parse(localStorage.getItem("ad_network_auth"));return 401===e.response.status?(window.location.href="/login",Promise.reject(e)):(401!==e.response.status||t._retry||(t._retry=!0,s.a.defaults.headers.post.Authorization="Barier "+(r?r.refresh_token:"")),Promise.reject(e))}));t.a={login:function(e){return s.a.post(o.a.baseApiUrl+"User/getAuthTokens",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getUserDetail:function(e){return s.a.post(o.a.baseApiUrl+"User/currentUser",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},changePassword:function(e){return s.a.post(o.a.baseApiUrl+"User/changePassword",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},ForgotPassword:function(e){return s.a.post(o.a.baseApiUrl+"User/forgotPassword",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},updateUserDetail:function(e){return s.a.post(o.a.baseApiUrl+"User/updateUserDetailsById",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getUserDetailsByUserGroupId:function(e){return s.a.post(o.a.baseApiUrl+"User/getUserDetailsByUserGroupId",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},addUserRole:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/registerUserRole",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getUserRoleData:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/getUserRole",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},deleteUserRole:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/deleteUserRole",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},editUserRole:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/updateUserRole",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},searchUserRole:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/searchUserRole",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},countUserRole:function(){return s.a.post(o.a.baseApiUrl+"UserRole/countUserRole").then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getUserRoleDetailsPg:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/getUserRoleDetailsPg",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},addUserRight:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/registerUserRight",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getUserRightData:function(){return s.a.post(o.a.baseApiUrl+"UserRole/getUserRight").then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},deleteUserRight:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/deleteUserRight",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},editUserRight:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/updateUserRight",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},searchUserRight:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/searchUserRight",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},countUserRight:function(){return s.a.post(o.a.baseApiUrl+"UserRole/countUserRight").then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getUserRightDetailsPg:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/getUserRightDetailsPg",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getUserRoleToRightData:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/getUserRoleToRight",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},updateUserRightToRoleData:function(e){return s.a.post(o.a.baseApiUrl+"UserRole/registerUserRoleToRight",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},uploadIcon:function(e){return s.a.post(o.a.baseApiUrl+"Application/uploadApplicationIcon",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},createApp:function(e){return s.a.post(o.a.baseApiUrl+"Application/insertApplication",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getApplication:function(){return s.a.post(o.a.baseApiUrl+"Application/getApplication").then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getApplicationCountData:function(){return s.a.post(o.a.baseApiUrl+"Application/countApplication").then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getApplicationPageDataPg:function(e){return s.a.post(o.a.baseApiUrl+"Application/applicationByPg",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},searchAppData:function(e){return s.a.post(o.a.baseApiUrl+"Application/applicationBySearch",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},getApp:function(e){return s.a.post(o.a.baseApiUrl+"Application/getApplication",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},editApp:function(e){return s.a.post(o.a.baseApiUrl+"Application/updateApplication",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},deleteAppData:function(e){return s.a.post(o.a.baseApiUrl+"Application/deleteApplication",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})},uploadImage:function(e){return console.log("data",e.get("file_name")),s.a.post(o.a.baseApiUrl+"User/uploadUserImage",e).then((function(e){return console.log("response===",e),e})).catch({status:500,message:"Internal Server Error"})}}},506:function(e,t){e.exports={EventEmitter:{events:{},dispatch:function(e,t){this.events[e]&&this.events[e].forEach((function(e){return e(t)}))},subscribe:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}}}},655:function(e,t,r){},812:function(e,t,r){"use strict";r.r(t);var a=r(153),n=r(154),s=r(157),o=r(155),l=r(152),i=r(156),c=r(2),u=r.n(c),p=r(504),h=r(506),m=r(502),g=(r(655),r(642)),d=r(643),f=r(644),U=r(648),_=r(645),E=r(521),v=r(522),b=r(518),A=r(540),S=(r(656),function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(s.a)(this,Object(o.a)(t).call(this,e))).validate=function(){var e="",t="",a="",n="";return r.state.first_name||(e="please enter first_name"),r.state.last_name||(t="please enter last_name"),r.state.email_id||(a="please enter email_id"),r.state.mobile_no||(n="please enter mobile_no"),!(e||t||a||n)||(r.setState({first_nameerror:e,last_nameerror:t,email_iderror:a,mobile_noerror:n}),!1)},r.state={user:"",auth:JSON.parse(localStorage.getItem("ad_network_auth")),first_name:"",first_nameerror:"",last_name:"",last_nameerror:"",email_id:"",email_iderror:"",mobile_no:"",mobile_noerror:"",selectedFile:null},r.handleChangeEvent=r.handleChangeEvent.bind(Object(l.a)(r)),r.UpdateProfile=r.UpdateProfile.bind(Object(l.a)(r)),r.onChangeHandler=r.onChangeHandler.bind(Object(l.a)(r)),r}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={id:this.state.auth.id,group:this.state.auth.user_group};p.a.getUserDetail(t).then((function(t){t&&(e.setState({user:t.data.data}),console.log("getUserDetail response===",e.state.user),e.setState({first_name:e.state.user.first_name,last_name:e.state.user.last_name,email_id:e.state.user.email_id,mobile_no:e.state.user.mobile_no,selectedFile:e.state.user.avatar}),h.EventEmitter.dispatch("picture",e.state.user.avatar),localStorage.setItem("ad_network_user",JSON.stringify(e.state.user)))})).catch((function(e){}))}},{key:"handleChangeEvent",value:function(e){e.preventDefault();var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"onChangeHandler",value:function(e){var t=this;this.setState({selectedFile:this.state.selectedFile=e.target.files[0].name,loaded:0}),console.log("file",this.state.selectedFile);var r=new FormData;r.append("file_name",e.target.files[0]),r.append("user_id",this.state.auth.id),p.a.uploadImage(r).then((function(e){console.log("uploadImage response===",e),e?(t.setState({selectedFile:t.state.selectedFile=e.data.data}),console.log("selectfile",t.state.selectedFile)):console.log("error")})).catch((function(e){console.log("err",e)}))}},{key:"UpdateProfile",value:function(){var e=this;if(this.validate()){console.log(this.state),this.setState({first_name:"",first_nameerror:"",last_name:"",last_nameerror:"",email_id:"",email_iderror:"",mobile_no:"",mobile_noerror:""});var t={first_name:this.state.first_name,last_name:this.state.last_name,email_id:this.state.email_id,mobile_no:this.state.mobile_no,id:this.state.auth.id,username:this.state.auth.username,create_by:this.state.auth.id};console.log("obj",t),p.a.updateUserDetail(t).then((function(t){t&&(console.log("updateUserDetail response===",t),e.componentDidMount())})).catch((function(e){}))}}},{key:"render",value:function(){return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(g.a,null,u.a.createElement(d.a,{xs:"12",sm:"12"},u.a.createElement(f.a,null,u.a.createElement(U.a,null,u.a.createElement("strong",null,"My Profile"),u.a.createElement("small",null," Form")),u.a.createElement(_.a,null,u.a.createElement(g.a,null,u.a.createElement(d.a,{xs:"6"},u.a.createElement(E.a,{className:"img-upload"},this.state.selectedFile?u.a.createElement("div",null,u.a.createElement("img",{className:"pic",src:m.a.baseApiUrl+this.state.selectedFile})):null,u.a.createElement("p",null,"Select File:"),u.a.createElement(v.a,{className:"imag",for:"file-input"},u.a.createElement("i",{className:"fa fa-upload fa-lg"})),u.a.createElement(b.a,{id:"file-input",type:"file",className:"form-control",name:"file",onChange:this.onChangeHandler}),u.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.selectedFileerror)))),u.a.createElement(g.a,null,u.a.createElement(d.a,{xs:"6"},u.a.createElement(E.a,null,u.a.createElement(v.a,{htmlFor:"first_name"},"First_Name"),u.a.createElement(b.a,{type:"text",id:"first_name",name:"first_name",className:"form-control",value:this.state.first_name,onChange:this.handleChangeEvent,placeholder:"Enter your firstname",required:!0}),u.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.first_nameerror))),u.a.createElement(d.a,{xs:"6"},u.a.createElement(E.a,null,u.a.createElement(v.a,{htmlFor:"last_name"},"Last_Name"),u.a.createElement(b.a,{type:"text",id:"last_name",name:"last_name",className:"form-control",value:this.state.last_name,onChange:this.handleChangeEvent,placeholder:"Enter your lastname",required:!0}),u.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.last_nameerror)))),u.a.createElement(g.a,null,u.a.createElement(d.a,{xs:"6"},u.a.createElement(E.a,null,u.a.createElement(v.a,{htmlFor:"email"},"E-Mail"),u.a.createElement(b.a,{type:"email",id:"email",name:"email_id",className:"form-control",value:this.state.email_id,onChange:this.handleChangeEvent,placeholder:"Enter your email",required:!0}),u.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.email_iderror))),u.a.createElement(d.a,{xs:"6"},u.a.createElement(E.a,null,u.a.createElement(v.a,{htmlFor:"mobile_no"},"Mobile_Number"),u.a.createElement(b.a,{type:"text",id:"mobile_no",name:"mobile_no",className:"form-control",value:this.state.mobile_no,onChange:this.handleChangeEvent,placeholder:"Enter your mobilenumber",required:!0}),u.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.mobile_noerror)))),u.a.createElement(A.a,{type:"button",size:"sm",color:"primary",onClick:this.UpdateProfile},"Update"))))))}}]),t}(u.a.Component));t.default=S}}]);
//# sourceMappingURL=18.39b0c6ff.chunk.js.map